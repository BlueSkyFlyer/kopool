#= depend_on_asset "home.html"
#= depend_on_asset "nfl_teams/index.html"
#= depend_on_asset "weeks/index.html"

# This line is related to our Angular app, not to our
# HomeCtrl specifically. This is basically how we tell
# Angular about the existence of our application.
@kopool = angular.module('kopool', ['ngRoute'])

# This routing directive tells Angular about the default
# route for our application. The term "otherwise" here
# might seem somewhat awkward, but it will make more
# sense as we add more routes to our application.
@kopool.config(['$routeProvider', ($routeProvider) ->

  console.log("routeprovider: " + $routeProvider)

  $routeProvider.
    when('/nfl_teams', {
      templateUrl: '<%= asset_path("nfl_teams/index.html") %>',
      controller: 'NflTeamsCtrl'
    }).
    when('/weeks', {
      templateUrl: '<%= asset_path("weeks/index.html") %>',
      controller: 'WeeksCtrl'
    }).
    otherwise({
      templateUrl: '<%= asset_path("home.html") %>'
      controller: 'HomeCtrl'
    })
])


# @kopool.config ('$httpProvider') ->
#   authToken = $("meta[name=\"csrf-token\"]").attr("content")
#   $httpProvider.defaults.headers.common["X-CSRF-TOKEN"] = authToken

